# Application
NODE_ENV=development
PORT=3000
API_PREFIX=api/v1

# Database
DATABASE_URL=postgresql://postgres:postgres_dev_password@localhost:5432/yellow_grid?schema=public

# Redis
REDIS_URL=redis://localhost:6379

# JWT
JWT_SECRET=your_jwt_secret_here
JWT_EXPIRATION=1h
JWT_REFRESH_EXPIRATION=7d

# CORS
CORS_ORIGIN=http://localhost:3001

# Rate Limiting
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100

# Logging
LOG_LEVEL=debug

# Kafka Configuration
KAFKA_ENABLED=false
KAFKA_BROKERS=localhost:9092
KAFKA_SERVICE_CATALOG_TOPIC=service-catalog
KAFKA_SSL=false
# KAFKA_SASL_MECHANISM=plain
# KAFKA_SASL_USERNAME=your_username
# KAFKA_SASL_PASSWORD=your_password

# AWS Configuration (for S3 reconciliation files)
AWS_REGION=eu-west-1
SERVICE_CATALOG_BUCKET=yellow-grid-service-catalog
# AWS_ACCESS_KEY_ID=your_access_key
# AWS_SECRET_ACCESS_KEY=your_secret_key

# ============================================================================
# E-Signature Integration Configuration
# ============================================================================

# Provider Selection (choose one: docusign | adobe-sign | mock)
# - docusign: Production-ready DocuSign integration
# - adobe-sign: Production-ready Adobe Sign integration
# - mock: Testing/development mode (no external API calls)
ESIGNATURE_PROVIDER=mock

# ----------------------------------------------------------------------------
# DocuSign Configuration
# ----------------------------------------------------------------------------
# Required when ESIGNATURE_PROVIDER=docusign
# Get credentials from: https://developers.docusign.com/

# DocuSign Integration Key (also called Client ID)
# Format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
DOCUSIGN_INTEGRATION_KEY=your-docusign-integration-key-here

# DocuSign User ID (User GUID, not email)
# Format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
# Find in: DocuSign Admin → Users → User Details
DOCUSIGN_USER_ID=your-docusign-user-guid-here

# DocuSign Account ID
# Format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
# Find in: DocuSign Admin → Account Details
DOCUSIGN_ACCOUNT_ID=your-docusign-account-id-here

# DocuSign Private Key (RSA Private Key for JWT authentication)
# Format: Multi-line PEM format with \n for line breaks
# Generate: DocuSign Admin → Apps → Your App → RSA Keypairs
# IMPORTANT: Include \n for line breaks when pasting in .env
DOCUSIGN_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----\nYour Private Key Here\n-----END RSA PRIVATE KEY-----"

# DocuSign API Base Path
# Production: https://na1.docusign.net/restapi (or your shard: na2, na3, eu, etc.)
# Demo/Sandbox: https://demo.docusign.net/restapi
DOCUSIGN_BASE_PATH=https://demo.docusign.net/restapi

# DocuSign OAuth Base Path
# Production: https://account.docusign.com
# Demo/Sandbox: https://account-d.docusign.com
DOCUSIGN_OAUTH_BASE_PATH=https://account-d.docusign.com

# DocuSign Webhook Secret (for HMAC signature verification)
# Generate a random secret and configure in DocuSign Connect
DOCUSIGN_WEBHOOK_SECRET=your-webhook-secret-here

# DocuSign Token Expiration Buffer (seconds before token refresh)
# Default: 300 (5 minutes)
DOCUSIGN_TOKEN_EXPIRATION_BUFFER=300

# ----------------------------------------------------------------------------
# Adobe Sign Configuration
# ----------------------------------------------------------------------------
# Required when ESIGNATURE_PROVIDER=adobe-sign
# Get credentials from: https://secure.adobesign.com/

# Adobe Sign Integration Key
ADOBE_SIGN_INTEGRATION_KEY=your-adobe-sign-integration-key-here

# Adobe Sign OAuth Client ID
ADOBE_SIGN_CLIENT_ID=your-adobe-sign-client-id-here

# Adobe Sign OAuth Client Secret
ADOBE_SIGN_CLIENT_SECRET=your-adobe-sign-client-secret-here

# Adobe Sign API Access Point
# Format: https://api.{shard}.adobesign.com/api/rest/v6
# Shards: na1, na2, na3, na4, eu1, eu2, jp1, au1
# Example: https://api.na1.adobesign.com/api/rest/v6
ADOBE_SIGN_API_ACCESS_POINT=https://api.na1.adobesign.com/api/rest/v6

# Adobe Sign Webhook Secret (for signature verification)
# Use your Adobe Sign Client ID for webhook verification
ADOBE_SIGN_WEBHOOK_SECRET=your-adobe-sign-client-id-here

# Adobe Sign Token Expiration Buffer (seconds before token refresh)
# Default: 300 (5 minutes)
ADOBE_SIGN_TOKEN_EXPIRATION_BUFFER=300

# ----------------------------------------------------------------------------
# General E-Signature Settings
# ----------------------------------------------------------------------------
# These settings apply to all providers

# Default envelope expiration in days
# How long before unsigned contracts expire
ESIGNATURE_DEFAULT_EXPIRATION_DAYS=14

# Enable automatic reminders to signers
ESIGNATURE_ENABLE_REMINDERS=true

# Reminder frequency in days
# How often to remind signers who haven't signed yet
ESIGNATURE_REMINDER_FREQUENCY_DAYS=3

# Maximum retry attempts for failed API requests
# Applies to network errors, timeouts, rate limits, etc.
ESIGNATURE_MAX_RETRIES=3

# Initial delay between retries in milliseconds
# Actual delay uses exponential backoff (2^attempt * delay)
ESIGNATURE_RETRY_DELAY_MS=1000

# Request timeout in milliseconds
# Maximum time to wait for API responses
ESIGNATURE_REQUEST_TIMEOUT_MS=30000

# Enable webhook processing
# Set to false to disable webhook event handling
ESIGNATURE_WEBHOOK_ENABLED=true
